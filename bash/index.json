{
    "content": "<h1 id=\"pegando-nome-e-extensao-de-um-arquivo\">Pegando nome e extens\u00e3o de um arquivo</h1>\n<p>Para se pegar o nome de um arquivo:</p>\n<pre><code class=\"Bash\">${name%.*}\n</code></pre>\n\n<p>Para se pegar a extens\u00e3o de um arquivo:</p>\n<pre><code class=\"Bash\">${name##*.}\n</code></pre>\n\n<p>Exemplo:</p>\n<ul>\n<li>Renomear v\u00e1rios arquivos deixando-os com 3 digitos:</li>\n</ul>\n<pre><code class=\"Bash\">for name in *.jpg; do\n  echo mv $name $(printf %03d.%s ${name%.*} ${name##*.})\ndone\n</code></pre>\n\n<h1 id=\"convertendo-tabs-para-espacos\">Convertendo tabs para espa\u00e7os</h1>\n<p>Misturando algumas <a href=\"http://stackoverflow.com/questions/11094383/how-can-i-convert-tabs-to-spaces-in-every-file-of-a-directory\">respostas do StackOverflow</a> conseguimos converter todos os tabs (iniciais) em espa\u00e7os:</p>\n<pre><code>find . -type f -not -iwholename '*.git*' -exec bash -c 'expand -t 2 \"$0\" &gt; /tmp/e &amp;&amp; mv /tmp/e \"$0\"' {} \\;\n</code></pre>\n<p>Ignorando um diret\u00f3rio:</p>\n<pre><code>find . -type f -iname \"*.rb\" -not -path \"*/vendor/*\" -exec bash -c 'expand -t 2 \"$0\" &gt; /tmp/e &amp;&amp; mv /tmp/e \"$0\"' {} \\;\n</code></pre>\n<p>Se estivermos em um reposit\u00f3rio git podemos garantir que n\u00e3o alteramos nada de\nverdade executando um:</p>\n<pre><code>git diff --ignore-all-space\n</code></pre>\n<h1 id=\"converting-spaces-in-filenames-to-underlines\">Converting spaces in filenames to underlines</h1>\n<pre><code>for file in *pdf; do mv $file $(echo $file | tr -s ' ' '_'); done\n\nor\n\nfor file in *pdf; do rename 's/ /_/g' $file; done\n</code></pre>\n<h1 id=\"getting-the-exit-status-of-a-command-even-when-using-tee\">Getting the exit status of a command even when using tee</h1>\n<p>Even when using <code>tee</code> you can use the <code>${PIPESTATUS}</code> variable to see what was\nthe exit code of the executed command.\nIt can be used to check if the status was <code>0</code> so you can continue your command\nchain:</p>\n<pre><code>./my_command.sh | tee -a /tmp/output.log ; test ${PIPESTATUS[0]} -eq 0 &amp;&amp; ...\n</code></pre>", 
    "url": "/bash/", 
    "language": "en", 
    "title": "Bash"
}