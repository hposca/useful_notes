{
    "content": "<h1 id=\"anotacoes-referentes-a-bancos-de-dados\">Anota\u00e7\u00f5es referentes a Bancos de Dados</h1>\n<h1 id=\"mysql\">MySQL</h1>\n<p>Primeiramente temos que ter o pacote <code>mysql-client</code> instalado.</p>\n<h2 id=\"tirando-o-dump\">Tirando o dump</h2>\n<pre><code>mysqldump -u root --host=&lt;HOST DO BANCO&gt; --user='&lt;username&gt;' --password='&lt;senha do banco&gt;' database_name &gt; /tmp/dump.sql\n</code></pre>\n<h2 id=\"restaurando-para-uma-base-de-dados-rails\">Restaurando para uma base de dados rails</h2>\n<pre><code>rails db -p &lt; dump.sql\n</code></pre>\n<h1 id=\"postgresql-amazon-rds\">PostgreSQL + Amazon RDS</h1>\n<h2 id=\"tirando-um-dump-de-um-banco-que-esta-na-amazon-rds\">Tirando um dump de um banco que est\u00e1 na Amazon RDS</h2>\n<p>Para se facilitar o processo de se tirar o dump precisamos ter uma inst\u00e2ncia EC2 em p\u00e9, que servir\u00e1 apenas para se tirar o dump.</p>\n<ul>\n<li>Precisamos instalar os pacotes que cont\u00eam o <code>pg_dump</code>:</li>\n</ul>\n<pre><code class=\"Bash\">sudo apt-get install -y postgresql-client-9.3 postgresql-client-common\n</code></pre>\n\n<ul>\n<li>Depois, temos que configurar a vari\u00e1vel de ambiente que tem a senha do banco de dados:</li>\n</ul>\n<pre><code class=\"Bash\">export PGPASSWORD=&quot;senha do banco&quot;\n</code></pre>\n\n<ul>\n<li>Finalmente, come\u00e7amos a tirar o dump:</li>\n</ul>\n<pre><code class=\"Bash\">pg_dump -Fc -h host_para_o_banco -U usuario nome_do_banco | gzip -9 &gt; dump.sql.gz\n</code></pre>\n\n<h2 id=\"restaurando-o-banco\">Restaurando o banco</h2>\n<p>Ao final do processo acima temos um arquivo comprimido. Para restaurar o banco a partir deste arquivo podemos fazer algo como o seguinte:</p>\n<pre><code class=\"Bash\">gunzip -c dump.sql.gz | pg_restore -U usuario -d nome_da_base\n</code></pre>", 
    "url": "/banco_de_dados/", 
    "language": "en", 
    "title": "Banco de dados"
}