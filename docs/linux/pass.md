# Installing

    sudo apt-get install -y pass

Do not forget to configure the [completion](https://git.zx2c4.com/password-store/tree/src/completion) for your preferred shell.

# Before using it

Before using `pass` we need to have a key generated by `GnuPG` with:

    gpg2 --gen-key

As it may take a lot of time, specially for it to gather enough entropy, one can use this solution from [StackOverflow](https://serverfault.com/questions/471412/gpg-gen-key-hangs-at-gaining-enough-entropy-on-centos-6):

> Anytime I've seen it (gpg --gen-key) hang like this, I log in to another shell and start a "dd if=/dev/sda of=/dev/zero" and it takes off after a few seconds / minutes.

By my experience, even using this method it still took around 10 minutes for the key generation.

## Exporting Keys

If you need to export your keys to another machine one can follow the commands that are described in this [StackOverflow question](https://unix.stackexchange.com/questions/226944/pass-and-gpg-no-public-key).

    $ gpg --export-secret-keys > keyfile
    $ gpg2 --import keyfile

Here they explicitly use different versions of GnuPG as the new versions of `pass` use `gpg2`.

# Setting up

According to the [official site tutorial](https://www.passwordstore.org/) and the [extended git example](https://git.zx2c4.com/password-store/about/#EXTENDED%20GIT%20EXAMPLE) we can start using it like this:

- List your current available keys

    gpg2 --list-key

- And use one of those keys with pass

    pass init key@mail

    pass git init

- All files will be saved on `~/.password-store` directory

- If you have somewhere to push your passwords

    pass git remote add origin the-place-you-will-push-to:branch

- Start inserting or generating your passwords

    pass generate A/B/mail@place.com 21
    pass insert A/B/mail@place.com

- When you are finished saving your passwords push them

    pass git push -u --all

More information on how to use `pass` can be found on [its page](https://www.passwordstore.org/) and reading the [man page](https://git.zx2c4.com/password-store/about/).

# Reaffirming trust

If you receive some error like this one after reimporting your key

```
gpg: <KEY>: There is no assurance this key belongs to the named user
gpg: [stdin]: encryption failed: Unusable public key
```

you can do as suggest on this [StackOverflow thread](https://stackoverflow.com/questions/33361068/gnupg-there-is-no-assurance-this-key-belongs-to-the-named-user) and do a

```bash
gpg2 --edit-key <KEY>
gpg> trust
# Answer that you trust ultimately (5)
# Answer yes
```
